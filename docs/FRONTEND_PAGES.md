# Frontend Oldalak - F√ÅZIS 2

**Verzi√≥:** 1.0
**Utols√≥ friss√≠t√©s:** 2025-09-29
**K√©sz√≠tette:** Frontend Engineer

---

## üìã √Åttekint√©s

Ez a dokumentum tartalmazza az √∂sszes Next.js oldal (page.tsx) √©s layout implement√°ci√≥j√°t.

---

## üîê Auth Oldalak

### 1. Login Oldal

**F√°jl:** `app/(auth)/login/page.tsx`

```typescript
import { Metadata } from 'next';
import Link from 'next/link';
import { LoginForm } from '@/components/auth/LoginForm';
import { Card } from '@/components/ui/Card';

export const metadata: Metadata = {
  title: 'Bejelentkez√©s | √âp√ºletfelm√©r≈ë Rendszer',
  description: 'Jelentkezz be a fi√≥kodba',
};

export default function LoginPage() {
  return (
    <div className="min-h-screen bg-secondary-50 flex items-center justify-center px-4">
      <Card className="w-full max-w-md" padding="lg">
        <div className="text-center mb-8">
          <h1 className="text-2xl font-bold text-secondary-900 mb-2">
            Bejelentkez√©s
          </h1>
          <p className="text-secondary-600">
            Jelentkezz be a fi√≥kodba
          </p>
        </div>

        <LoginForm />

        <div className="mt-6 text-center">
          <p className="text-sm text-secondary-600">
            M√©g nincs fi√≥kod?{' '}
            <Link
              href="/register"
              className="text-primary-600 hover:text-primary-700 font-medium"
            >
              Regisztr√°ci√≥
            </Link>
          </p>
        </div>
      </Card>
    </div>
  );
}
```

---

### 2. Register Oldal

**F√°jl:** `app/(auth)/register/page.tsx`

```typescript
import { Metadata } from 'next';
import Link from 'next/link';
import { RegisterForm } from '@/components/auth/RegisterForm';
import { Card } from '@/components/ui/Card';

export const metadata: Metadata = {
  title: 'Regisztr√°ci√≥ | √âp√ºletfelm√©r≈ë Rendszer',
  description: 'Hozz l√©tre egy √∫j fi√≥kot',
};

export default function RegisterPage() {
  return (
    <div className="min-h-screen bg-secondary-50 flex items-center justify-center px-4">
      <Card className="w-full max-w-md" padding="lg">
        <div className="text-center mb-8">
          <h1 className="text-2xl font-bold text-secondary-900 mb-2">
            Regisztr√°ci√≥
          </h1>
          <p className="text-secondary-600">
            Hozz l√©tre egy √∫j fi√≥kot
          </p>
        </div>

        <RegisterForm />

        <div className="mt-6 text-center">
          <p className="text-sm text-secondary-600">
            M√°r van fi√≥kod?{' '}
            <Link
              href="/login"
              className="text-primary-600 hover:text-primary-700 font-medium"
            >
              Bejelentkez√©s
            </Link>
          </p>
        </div>
      </Card>
    </div>
  );
}
```

---

### 3. Auth Callback Route

**F√°jl:** `app/auth/callback/route.ts`

```typescript
import { createServerSupabaseClient } from '@/lib/supabaseServer';
import { NextResponse } from 'next/server';

export async function GET(request: Request) {
  const requestUrl = new URL(request.url);
  const code = requestUrl.searchParams.get('code');

  if (code) {
    const supabase = await createServerSupabaseClient();
    await supabase.auth.exchangeCodeForSession(code);
  }

  // Redirect to dashboard after email confirmation
  return NextResponse.redirect(new URL('/dashboard', request.url));
}
```

---

## üè† Dashboard Oldalak

### 4. Dashboard Home

**F√°jl:** `app/dashboard/page.tsx`

```typescript
import { Metadata } from 'next';
import { Card } from '@/components/ui/Card';
import Link from 'next/link';
import { Button } from '@/components/ui/Button';

export const metadata: Metadata = {
  title: 'Dashboard | √âp√ºletfelm√©r≈ë Rendszer',
  description: 'F≈ëoldal √©s statisztik√°k',
};

export default function DashboardPage() {
  return (
    <div>
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-secondary-900 mb-2">
          Dashboard
        </h1>
        <p className="text-secondary-600">
          √údv√∂zl√ºnk az √âp√ºletfelm√©r≈ë Rendszerben!
        </p>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        {/* Stat Card 1 */}
        <Card>
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm font-medium text-secondary-600">Projektek</p>
              <p className="text-2xl font-bold text-secondary-900">-</p>
            </div>
            <div className="p-3 bg-primary-100 rounded-lg">
              <svg className="h-6 w-6 text-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
              </svg>
            </div>
          </div>
        </Card>

        {/* Stat Card 2 */}
        <Card>
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm font-medium text-secondary-600">Akt√≠v felm√©r√©sek</p>
              <p className="text-2xl font-bold text-secondary-900">-</p>
            </div>
            <div className="p-3 bg-success-100 rounded-lg">
              <svg className="h-6 w-6 text-success-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
          </div>
        </Card>

        {/* Stat Card 3 */}
        <Card>
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm font-medium text-secondary-600">Befejezett</p>
              <p className="text-2xl font-bold text-secondary-900">-</p>
            </div>
            <div className="p-3 bg-warning-100 rounded-lg">
              <svg className="h-6 w-6 text-warning-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
              </svg>
            </div>
          </div>
        </Card>
      </div>

      {/* Quick Actions */}
      <Card>
        <h2 className="text-xl font-semibold text-secondary-900 mb-4">
          Gyors m≈±veletek
        </h2>
        <div className="space-y-3">
          <Link href="/dashboard/projects">
            <Button variant="primary" className="w-full justify-start">
              <svg className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
              √öj projekt l√©trehoz√°sa
            </Button>
          </Link>

          <Link href="/dashboard/projects">
            <Button variant="secondary" className="w-full justify-start">
              <svg className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
              </svg>
              Projektek megtekint√©se
            </Button>
          </Link>
        </div>
      </Card>
    </div>
  );
}
```

---

### 5. Projects List Page

**F√°jl:** `app/dashboard/projects/page.tsx`

```typescript
'use client';

import { useState } from 'react';
import { Metadata } from 'next';
import { Button } from '@/components/ui/Button';
import { ProjectList } from '@/components/projects/ProjectList';
import { CreateProjectModal } from '@/components/projects/CreateProjectModal';
import { EditProjectModal } from '@/components/projects/EditProjectModal';
import { DeleteProjectModal } from '@/components/projects/DeleteProjectModal';
import { Project } from '@/types/project.types';

export default function ProjectsPage() {
  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);
  const [isEditModalOpen, setIsEditModalOpen] = useState(false);
  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);
  const [selectedProject, setSelectedProject] = useState<Project | null>(null);
  const [refreshKey, setRefreshKey] = useState(0);

  const handleCreate = () => {
    setIsCreateModalOpen(true);
  };

  const handleEdit = (project: Project) => {
    setSelectedProject(project);
    setIsEditModalOpen(true);
  };

  const handleDelete = (project: Project) => {
    setSelectedProject(project);
    setIsDeleteModalOpen(true);
  };

  const handleSuccess = () => {
    setRefreshKey((prev) => prev + 1);
  };

  return (
    <div>
      <div className="flex items-center justify-between mb-8">
        <div>
          <h1 className="text-3xl font-bold text-secondary-900 mb-2">
            Projektek
          </h1>
          <p className="text-secondary-600">
            Kezelje projektjeit √©s felm√©r√©seit
          </p>
        </div>

        <Button onClick={handleCreate}>
          <svg className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
          √öj projekt
        </Button>
      </div>

      <ProjectList
        key={refreshKey}
        onCreate={handleCreate}
        onEdit={handleEdit}
        onDelete={handleDelete}
      />

      <CreateProjectModal
        isOpen={isCreateModalOpen}
        onClose={() => setIsCreateModalOpen(false)}
        onSuccess={handleSuccess}
      />

      <EditProjectModal
        isOpen={isEditModalOpen}
        onClose={() => setIsEditModalOpen(false)}
        onSuccess={handleSuccess}
        project={selectedProject}
      />

      <DeleteProjectModal
        isOpen={isDeleteModalOpen}
        onClose={() => setIsDeleteModalOpen(false)}
        onSuccess={handleSuccess}
        project={selectedProject}
      />
    </div>
  );
}
```

---

## üìê Layouts

### 6. Root Layout

**F√°jl:** `app/layout.tsx`

```typescript
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import { Toaster } from 'react-hot-toast';
import './globals.css';

const inter = Inter({ subsets: ['latin'], variable: '--font-inter' });

export const metadata: Metadata = {
  title: '√âp√ºletfelm√©r≈ë Rendszer',
  description: 'Modul√°ris √©p√ºletfelm√©r≈ë √©s dokument√°ci√≥s rendszer',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="hu">
      <body className={inter.variable}>
        {children}
        <Toaster
          position="top-right"
          toastOptions={{
            duration: 4000,
            style: {
              background: '#fff',
              color: '#0f172a',
              border: '1px solid #e2e8f0',
            },
            success: {
              iconTheme: {
                primary: '#10b981',
                secondary: '#fff',
              },
            },
            error: {
              iconTheme: {
                primary: '#ef4444',
                secondary: '#fff',
              },
            },
          }}
        />
      </body>
    </html>
  );
}
```

---

### 7. Auth Layout (Optional)

**F√°jl:** `app/(auth)/layout.tsx`

```typescript
import { ReactNode } from 'react';

export default function AuthLayout({ children }: { children: ReactNode }) {
  return (
    <div className="min-h-screen bg-secondary-50">
      {children}
    </div>
  );
}
```

---

### 8. Dashboard Layout

**F√°jl:** `app/dashboard/layout.tsx`

```typescript
import { DashboardLayout } from '@/components/layout/DashboardLayout';

export default function Layout({ children }: { children: React.ReactNode }) {
  return <DashboardLayout>{children}</DashboardLayout>;
}
```

---

## üé® Global Styles

### 9. Globals CSS

**F√°jl:** `app/globals.css`

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: var(--font-inter), system-ui, sans-serif;
  }

  body {
    @apply bg-secondary-50 text-secondary-900;
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
```

---

## üîß Additional Files

### 10. Middleware

**F√°jl:** `middleware.ts` (project root)

```typescript
import { createServerClient } from '@supabase/ssr';
import { NextResponse, type NextRequest } from 'next/server';

export async function middleware(request: NextRequest) {
  let response = NextResponse.next({
    request: {
      headers: request.headers,
    },
  });

  const supabase = createServerClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        get(name: string) {
          return request.cookies.get(name)?.value;
        },
        set(name: string, value: string, options: any) {
          response.cookies.set({
            name,
            value,
            ...options,
          });
        },
        remove(name: string, options: any) {
          response.cookies.set({
            name,
            value: '',
            ...options,
          });
        },
      },
    }
  );

  const { data: { session } } = await supabase.auth.getSession();

  // Protected routes
  if (request.nextUrl.pathname.startsWith('/dashboard')) {
    if (!session) {
      return NextResponse.redirect(new URL('/login', request.url));
    }
  }

  // Auth routes (already logged in)
  if (request.nextUrl.pathname.startsWith('/login') ||
      request.nextUrl.pathname.startsWith('/register')) {
    if (session) {
      return NextResponse.redirect(new URL('/dashboard', request.url));
    }
  }

  return response;
}

export const config = {
  matcher: ['/dashboard/:path*', '/login', '/register'],
};
```

---

### 11. TypeScript Config

**F√°jl:** `tsconfig.json` (m√°r l√©tezik, de ellen≈ërizd)

```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

---

### 12. Next Config

**F√°jl:** `next.config.js` (m√°r l√©tezik, de ellen≈ërizd)

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
}

module.exports = nextConfig
```

---

### 13. PostCSS Config

**F√°jl:** `postcss.config.js` (m√°r l√©tezik)

```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

---

## ‚úÖ File Structure Checklist

```
building-survey/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ callback/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ projects/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ globals.css ‚úÖ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RegisterForm.tsx ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DashboardLayout.tsx ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ projects/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProjectCard.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProjectList.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateProjectModal.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditProjectModal.tsx ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DeleteProjectModal.tsx ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îú‚îÄ‚îÄ Badge.tsx ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ Button.tsx ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ Card.tsx ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ EmptyState.tsx ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ Input.tsx ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ LoadingSpinner.tsx ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ Modal.tsx ‚úÖ
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ projects.ts ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ supabaseServer.ts ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ translations.ts ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts ‚úÖ
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ database.types.ts ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ project.types.ts ‚úÖ
‚îú‚îÄ‚îÄ translations/
‚îÇ   ‚îî‚îÄ‚îÄ hu.json ‚úÖ
‚îú‚îÄ‚îÄ middleware.ts ‚úÖ
‚îú‚îÄ‚îÄ tailwind.config.ts ‚úÖ
‚îú‚îÄ‚îÄ tsconfig.json ‚úÖ
‚îú‚îÄ‚îÄ next.config.js ‚úÖ
‚îú‚îÄ‚îÄ postcss.config.js ‚úÖ
‚îú‚îÄ‚îÄ package.json ‚úÖ
‚îî‚îÄ‚îÄ .env.local ‚úÖ
```

---

## üöÄ Development Server

### Ind√≠t√°s

```bash
npm run dev
```

**URL:** http://localhost:3000

### Test Flow

1. Nyisd meg: http://localhost:3000/register
2. Regisztr√°lj egy test user-t: `test@example.com` / `test1234`
3. Ellen≈ërizd az emailt (Supabase Dashboard ‚Üí Authentication ‚Üí Email logs)
4. Kattints a meger≈ës√≠t≈ë linkre
5. Bejelentkez√©s: http://localhost:3000/login
6. Dashboard: http://localhost:3000/dashboard
7. Projektek: http://localhost:3000/dashboard/projects
8. Hozz l√©tre egy √∫j projektet
9. Szerkeszd a projektet
10. T√∂r√∂ld a projektet

---

## üß™ Manual Testing Checklist

### Authentication
- [ ] Regisztr√°ci√≥ m≈±k√∂dik
- [ ] Email meger≈ës√≠t√©s m≈±k√∂dik
- [ ] Bejelentkez√©s m≈±k√∂dik
- [ ] Hib√°s jelsz√≥ eset√©n error message
- [ ] Kijelentkez√©s m≈±k√∂dik

### Protected Routes
- [ ] `/dashboard` redirect `/login`-ra ha nincs session
- [ ] `/login` redirect `/dashboard`-ra ha van session

### Projects CRUD
- [ ] Projekt lista bet√∂lt≈ëdik
- [ ] √öj projekt l√©trehoz√°s
- [ ] Auto identifier gener√°l√≥dik (PROJ-YYYYMMDD-NNN)
- [ ] Projekt szerkeszt√©s
- [ ] Projekt t√∂rl√©s (soft delete)
- [ ] Toast notification-√∂k megjelennek

### UI/UX
- [ ] Responsive design mobile-on
- [ ] Responsive design tablet-en
- [ ] Button hover states
- [ ] Loading spinners megjelennek
- [ ] Empty state megjelenik ha nincs projekt
- [ ] Modal-ok bez√°rhat√≥k X gombbal √©s backdrop click-kel

### Role-Based Access (Admin/User)
- [ ] Admin l√°tja az √∂sszes projektet
- [ ] User csak saj√°t projektjeit l√°tja
- [ ] User nem szerkeszthet admin projekteket

---

## üìù K√∂vetkez≈ë L√©p√©sek (F√ÅZIS 3 & 4)

### F√ÅZIS 3 - Security & QA
- Security Analyst: RLS policy audit, XSS/CSRF v√©delem
- QA Tester: Automated testing, E2E tests, Bug fixes

### F√ÅZIS 4 - Deployment
- DevOps Engineer: Netlify deployment, Environment setup, Monitoring

---

**Oldalak st√°tusz:** ‚úÖ Dokument√°lva (Implement√°ci√≥ pending)
**F√ÅZIS 2 st√°tusz:** ‚úÖ Dokument√°ci√≥ k√©sz